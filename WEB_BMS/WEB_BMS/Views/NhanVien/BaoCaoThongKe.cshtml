@{
    ViewBag.Title = "Báo Cáo Thống Kê";
    Layout = "~/Views/Shared/Layout_NhanVien.cshtml";
}

<link href="~/Content/admin-styles.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<style>
    .stats-container {
        padding: 20px;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .stat-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
    }

        .stat-card:hover {
            transform: translateY(-5px);
        }

    .stat-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: bold;
        margin: 10px 0;
        color: #001981;
    }

    .stat-label {
        color: #666;
        font-size: 1.1rem;
    }

    .products-icon {
        color: #4CAF50;
    }

    .orders-icon {
        color: #2196F3;
    }

    .customers-icon {
        color: #FF9800;
    }

    .visitors-icon {
        color: #9C27B0;
    }

    .chart-container {
        background: white;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .chart-title {
        font-size: 1.2rem;
        margin-bottom: 15px;
        color: #333;
    }
</style>

<div class="page-header">
    <div class="container">
        <h2 class="text-center mb-0">Báo Cáo Thống Kê</h2>
    </div>
</div>

<div class="container stats-container">
    <div class="stats-grid">
        <div class="stat-card">
            <i class="fas fa-box stat-icon products-icon"></i>
            <div class="stat-number">@ViewBag.TotalProducts</div>
            <div class="stat-label">Tổng Số Sản Phẩm</div>
        </div>

        <div class="stat-card">
            <i class="fas fa-shopping-cart stat-icon orders-icon"></i>
            <div class="stat-number">@ViewBag.TotalOrders</div>
            <div class="stat-label">Tổng Số Đơn Hàng</div>
        </div>

        <div class="stat-card">
            <i class="fas fa-users stat-icon customers-icon"></i>
            <div class="stat-number">@ViewBag.TotalCustomers</div>
            <div class="stat-label">Tổng Số Khách Hàng</div>
        </div>

        <div class="stat-card">
            <i class="fas fa-eye stat-icon visitors-icon"></i>
            <div class="stat-number">@ViewBag.TotalVisitors</div>
            <div class="stat-label">Lượt Truy Cập</div>
        </div>
    </div>

    <div class="chart-container">
        <h3 class="chart-title">Thống Kê Chi Tiết</h3>
        <table class="table table-hover">
            <thead class="thead-dark">
                <tr>
                    <th>Loại Sản Phẩm</th>
                    <th>Số Lượng</th>
                    <th>Tổng Giá Trị</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var category in ViewBag.CategoryStats)
                {
                    <tr>
                        <td>@category.CategoryName</td>
                        <td>@category.ProductCount</td>
                        <td>@String.Format("{0:N0} VNĐ", category.TotalValue)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>